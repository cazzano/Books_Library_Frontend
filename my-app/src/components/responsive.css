/* responsive.css - Making the Islamic website fully responsive */

/* Base responsive adjustments */
@media (max-width: 1200px) {
  .book {
    transform: scale(0.9) translate(-50%, -50%);
  }
}

/* Large tablets and small desktops */
@media (max-width: 992px) {
  .book {
    transform: scale(0.85) translate(-50%, -50%);
  }

  h1.text-4xl {
    font-size: 1.75rem;
  }

  .maple-leaf-decoration svg {
    width: 35px;
    height: 35px;
  }

  /* Adjust bottom text position to prevent overlap */
  h2.absolute.bottom-2 {
    bottom: -15px;
  }
}

/* Medium tablets */
@media (max-width: 768px) {
  .book {
    /* Increased size from 0.7 to 0.75 */
    transform: scale(0.75) translate(-50%, -50%);
  }

  h1.text-4xl {
    font-size: 1.5rem;
    padding: 0.5rem 1.5rem;
  }

  .maple-leaf-decoration svg {
    width: 30px;
    height: 30px;
  }

  .relative.w-full.max-w-2xl.h-\[500px\] {
    height: 400px;
    margin-bottom: 25px; /* Create more space below the book container */
  }

  /* Move the text down further to avoid book overlap */
  h2.absolute.bottom-2 {
    bottom: -30px;
  }

  .flex.flex-wrap.justify-center.gap-5 {
    gap: 0.75rem;
    margin-top: 35px; /* Add more margin to avoid overlap with bottom text */
  }

  .curved-button {
    font-size: 0.9rem;
    padding: 0.6rem 1rem;
  }
}

/* Small tablets and large phones */
@media (max-width: 640px) {
  .book {
    /* Increased size from 0.6 to 0.7 */
    transform: scale(0.7) translate(-50%, -50%);

    /* Ensure book is centered */
    left: 50% !important;
    top: 50% !important;
  }

  h1.text-4xl {
    font-size: 1.25rem;
  }

  .maple-leaf-decoration svg {
    width: 25px;
    height: 25px;
  }

  .relative.w-full.max-w-2xl.h-\[500px\] {
    height: 380px; /* Increased height to accommodate larger book */
    margin-bottom: 35px; /* Increase space below for text */

    /* Ensure container is properly centered */
    position: relative;
    left: 50%;
    transform: translateX(-50%);
    max-width: 95%;
  }

  /* Fix the bottom text positioning */
  h2.absolute.bottom-2 {
    bottom: -40px;
    white-space: nowrap;
    left: 50%;
    transform: translateX(-50%);
    width: auto;
  }

  /* Stack buttons on small screens */
  .flex.flex-wrap.justify-center.gap-5 {
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
    margin-top: 45px; /* Increase margin-top to accommodate the displaced bottom text */
  }

  .curved-button {
    width: 80%;
    max-width: 200px;
  }
}

/* Mobile phones */
@media (max-width: 480px) {
  .book {
    /* Increased size significantly from 0.5 to 0.65 */
    transform: scale(0.65) translate(-50%, -50%);
  }

  h1.text-4xl {
    font-size: 1.125rem;
    padding: 0.4rem 1rem;
  }

  .maple-leaf-decoration svg {
    width: 20px;
    height: 20px;
  }

  .relative.w-full.max-w-2xl.h-\[500px\] {
    height: 360px; /* Increased height for larger book */
    position: relative;
    margin-bottom: 45px; /* Increase bottom margin */
  }

  h2.absolute.bottom-2 {
    bottom: -45px;
    font-size: 1rem;
    padding: 3px 10px;
  }

  /* Ensure book is perfectly centered on mobile */
  .book.absolute {
    left: 50% !important;
    top: 50% !important;
  }

  /* Reduce the number of background maple leaves on small screens */
  .background-maple-pattern .absolute:nth-child(n + 11) {
    display: none;
  }

  /* Reduce the number of falling leaves on small screens */
  .maple-leaf:nth-child(n + 8) {
    display: none;
  }

  /* Add more space for navigation buttons */
  .flex.flex-wrap.justify-center.gap-5.mb-8.mt-auto {
    margin-top: 55px;
  }
}

/* Extra small phones */
@media (max-width: 360px) {
  .book {
    /* Increased size from 0.4 to 0.6 */
    transform: scale(0.6) translate(-50%, -50%);
  }

  .relative.w-full.max-w-2xl.h-\[500px\] {
    height: 330px; /* Increased for larger book display */
    margin-bottom: 55px; /* Increase bottom margin even more */
  }

  /* Move text even further down */
  h2.absolute.bottom-2 {
    bottom: -50px;
    font-size: 0.875rem;
  }

  /* Further reduce background elements */
  .background-maple-pattern .absolute:nth-child(n + 8) {
    display: none;
  }

  .maple-leaf:nth-child(n + 6) {
    display: none;
  }

  /* Give even more space for buttons */
  .flex.flex-wrap.justify-center.gap-5.mb-8.mt-auto {
    margin-top: 65px;
  }
}

/* Adjust page display for narrow screens */
@media (max-width: 768px) {
  .page-content {
    padding: 0.5rem;
  }

  .page-content .text-xl {
    font-size: 1rem; /* Slightly larger for better readability */
  }

  .sparkling-stars .star {
    width: 3px;
    height: 3px;
  }

  /* Make the book pages more visible */
  .page {
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  }

  /* Enhance book appearance for better visibility */
  .book-spine {
    box-shadow: -3px 0 5px rgba(0, 0, 0, 0.2);
  }
}

/* Fix for landscape orientation on mobile */
@media (max-height: 500px) and (orientation: landscape) {
  .bg-gradient-to-b.min-h-screen {
    min-height: 500px;
  }

  .book {
    /* Increased size for better visibility */
    transform: scale(0.6) translate(-50%, -50%);
  }

  .relative.w-full.max-w-2xl.h-\[500px\] {
    height: 320px;
  }

  /* Fix position of bottom text in landscape */
  h2.absolute.bottom-2 {
    bottom: -35px;
  }

  .flex.flex-wrap.justify-center.gap-5 {
    flex-direction: row;
    margin-top: 45px; /* Increased to avoid overlap with the text */
  }
}

/* Fix for ultra-small devices in landscape */
@media (max-height: 350px) and (orientation: landscape) {
  .relative.w-full.max-w-2xl.h-\[500px\] {
    height: 240px;
    margin-bottom: 45px;
  }

  .book {
    /* Increased size from 0.4 to 0.55 */
    transform: scale(0.55) translate(-50%, -50%);
  }

  h2.absolute.bottom-2 {
    bottom: -40px;
  }

  .flex.flex-wrap.justify-center.gap-5 {
    margin-top: 50px;
  }
}

/* Fix for taller screens to balance layout */
@media (min-height: 900px) {
  .relative.w-full.max-w-2xl.h-\[500px\] {
    height: 550px;
  }

  .book {
    transform: scale(1.1) translate(-50%, -50%);
  }
}

/* Ensure the text direction is RTL for Arabic content */
.font-arabic {
  direction: rtl;
  unicode-bidi: bidi-override;
}

/* Accessibility improvements for mobile */
@media (max-width: 768px) {
  .curved-button {
    min-height: 44px; /* Minimum touch target size */
  }

  .button-text {
    white-space: nowrap;
  }

  /* Improve tap target size */
  .button-text,
  i.fas {
    font-size: 1rem;
  }
}

/* Fix for animation performance on mobile */
@media (max-width: 768px) {
  .maple-leaf {
    will-change: transform;
  }

  .rapid-jiggle {
    animation-duration: 0.5s; /* Speed up animation on mobile */
  }
}

/* Improve book contrast for better visibility */
.book .page {
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.page-content {
  position: relative;
  z-index: 2;
}

/* Alternative layout for very small height */
@media (max-height: 600px) {
  .min-h-screen {
    padding-top: 10px;
    padding-bottom: 10px;
  }

  /* Prevent overlap with "تحيا اسلام" text */
  .relative.w-full.max-w-2xl.h-\[500px\] {
    margin-bottom: 45px;
    height: auto;
    min-height: 270px; /* Slightly increased for better book display */
  }
}

/* Dark mode support */
@media (prefers-color-scheme: dark) {
  .bg-white.bg-opacity-70 {
    background-color: rgba(30, 41, 59, 0.8); /* slate-800 with opacity */
    color: #f8fafc; /* slate-50 */
  }

  h1.text-green-600,
  h2.text-green-600 {
    color: #4ade80; /* green-400 - brighter in dark mode */
  }

  .book-spine {
    background: linear-gradient(
      to right,
      #475569,
      #64748b
    ); /* slate-600 to slate-500 */
  }

  .page {
    background-color: #1e293b; /* slate-800 */
    color: #f8fafc; /* slate-50 */
    border: 1px solid rgba(255, 255, 255, 0.1); /* Visible border in dark mode */
  }

  .page-content .text-blue-600 {
    color: #60a5fa; /* blue-400 */
  }

  .page-content .text-red-600 {
    color: #f87171; /* red-400 */
  }
}

/* Print styles */
@media print {
  .background-maple-pattern,
  .maple-leaf,
  .landed-leaf,
  .sparkling-stars {
    display: none !important;
  }

  .bg-gradient-to-b {
    background: white !important;
  }

  .book {
    box-shadow: none;
    border: 1px solid #000;
  }

  .curved-button {
    display: none;
  }
}

/* Ensure proper font loading */
@font-face {
  font-family: "ArabicFont";
  font-display: swap; /* Prevent FOIT (Flash of Invisible Text) */
}

/* Force centering for book at all screen sizes */
.book.absolute {
  left: 50% !important;
  right: auto !important;
  top: 50% !important;
  bottom: auto !important;
}
